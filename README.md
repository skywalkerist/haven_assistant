# Haven Intelligent Assistant System / HavenÊô∫ËÉΩÂä©ÊâãÁ≥ªÁªü

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Python](https://img.shields.io/badge/python-3.8+-green.svg)](https://python.org)
[![Status](https://img.shields.io/badge/status-Active-brightgreen.svg)]()

[English](#english) | [‰∏≠Êñá](#chinese)

---

## English

### üåü Project Overview

Haven is an intelligent assistant system that integrates facial recognition, voice interaction, robotic arm control, and cloud services. The system adopts a modular design and supports voice wake-up, face recognition, intelligent dialogue, robot control, and other functions.

The Haven Intelligent Assistant System is a comprehensive AI agent platform that integrates speech recognition, natural language dialogue, robot control, facial recognition, and personalized interaction capabilities. The system adopts a modular design, supports distributed deployment, and features powerful task scheduling and execution capabilities.

#### üéØ Core Features

- **Voice Wake-up**: Listening for "Â∞èÂä©Â∞èÂä©" keyword activation
- **Face Recognition**: User identity recognition and personalized greetings
- **Intelligent Dialogue**: AI conversation system based on DeepSeek API
- **Robot Control**: Robotic arm point management, movement control, and patrol functions
- **Cloud Integration**: UniCloud functions, task queue management, audio file storage
- **Personalized Voice**: Voice cloning and custom voice generation

### üèóÔ∏è System Architecture

#### Core Components
- **Face Recognition Service**: Runs in face environment, provides HTTP API based on InsightFace
- **Super Intelligent Agent**: Runs in base environment, supports voice wake-up and intelligent dialogue
- **Cloud Client**: Handles various task requests, supports robot control and patrol functions
- **Frontend Application**: Located in app branch, provides user interface and control panel

#### Workflow
1. **Voice Wake-up**: Listens for "Â∞èÂä©Â∞èÂä©" keyword
2. **Face Recognition**: Identifies user identity, personalized greeting
3. **Intelligent Dialogue**: AI conversation system based on DeepSeek API
4. **Robot Control**: Supports waypoint management, movement control, and patrol functions

### üöÄ Quick Start

#### System Requirements
- Python 3.8+
- Miniconda/Anaconda
- Hardware: Orbbec camera, robotic arm

#### Installation Steps

1. **Clone the Project**
```bash
git clone https://github.com/skywalkerist/haven_assistant.git
cd haven_ws
```

2. **Environment Setup**
```bash
# Create face environment (for face recognition)
conda create -n face python=3.8
conda activate face
pip install insightface pyorbbecsdk opencv-python

# Create base environment (for main system)
conda create -n base python=3.8
conda activate base
pip install requests flask openai psutil
```

3. **Configuration Files**
Ensure the following configuration files exist:
- `config/face_db.json` - Face database
- `config/voices.json` - Voice configuration
- `config/patrol_routes.json` - Patrol routes
- `demos/data/profiles/` - User profile directory

4. **Start System**
```bash
# Method 1: Full system startup
cd demos
python start_system.py

# Method 2: Cloud client only
python app_client.py

# Method 3: Test system connections
python start_system.py test
```

### üìù Main Features

#### üé§ Speech Processing System
- **Speech Recognition**: Based on iFlytek Spark ASR, supports Chinese speech-to-text
- **Speech Synthesis**: Supports personalized voice cloning and generation
- **Audio Recording**: High-quality audio capture and processing

#### ü§ñ Intelligent Dialogue System
- **DeepSeek Dialogue Engine**: Intelligent conversation based on large language models
- **Context Understanding**: Maintains conversation history and user profiles
- **Personalized Response**: Customized replies based on user characteristics

#### üëÅÔ∏è Face Recognition System
- **Real-time Face Detection**: High-precision face recognition based on InsightFace
- **User Identity Management**: Supports multi-user registration and identity verification
- **Face Tracking**: Intelligent face following and gaze functionality

#### üö∂ Robot Control System
- **Marker Point Management**: Dynamic addition, deletion, and navigation to specified markers
- **Path Planning**: Intelligent patrol route planning and execution
- **Motion Control**: Precise position control and navigation

#### üíæ Data Management System
- **User Profiles**: Personalized user information storage and management
- **Memory System**: Semantic memory storage and retrieval
- **Configuration Management**: Dynamic system configuration updates

### üîß API Configuration

#### Required API Keys
Configure the following API keys in `demos/app_client.py`:

```python
SPARK_APP_ID = 'your_spark_app_id'
SPARK_API_SECRET = 'your_spark_api_secret'
SPARK_API_KEY = 'your_spark_api_key'
DEEPSEEK_API_KEY = 'your_deepseek_api_key'
UNICLOUD_BASE_URL = 'your_unicloud_base_url'
```

#### Configuration Files

- `config/voices.json`: Voice configuration and default tone settings
- `config/patrol_routes.json`: Patrol route configuration
- `demos/data/profiles/`: User profile storage directory

### üìù Supported Task Types

#### Voice and Dialogue
- `speech_to_text` - Speech to text conversion
- `dialogue` - AI intelligent dialogue
- `record_audio` - Audio recording function
- `train_voice` - Voice model training

#### Robot Control
- `get_marker_list` - Get marker point list
- `add_marker` - Add new marker point
- `delete_marker` - Delete marker point
- `move_to_point` - Move to specified point

#### Patrol Functions
- `get_patrol_routes` - Get patrol routes
- `save_patrol_route` - Save patrol route
- `start_patrol` - Start patrol
- `stop_patrol` - Stop patrol

#### Configuration Management
- `get_voices_config` - Get voice configuration
- `set_voices_config` - Set voice configuration
- `get_profiles_config` - Get user profiles
- `update_profile` - Update user profile

### üì± Frontend Application

The frontend application is located in the `app` branch and provides:
- User-friendly control interface
- Real-time status monitoring
- Configuration management panel
- Task execution control

Switch to app branch to view frontend code:
```bash
git checkout app
```

### üîÑ Available Commands
- `python start_system.py` - Start complete system
- `python start_system.py test` - Test system connections
- `python start_system.py help` - Show help information
- `python start_system.py shutdown` - Safe system shutdown

### üìä System Monitoring

#### Service Status Check
```bash
# Check face recognition service
curl http://localhost:5001/api/status

# Check system connections
python start_system.py test
```

#### Safe Shutdown
Use `Ctrl+C` or run shutdown command to safely close the system:
```bash
python start_system.py shutdown
```

#### üëÅÔ∏è Facial Recognition System
- **Real-time Face Detection**: High-precision face recognition based on InsightFace
- **User Identity Management**: Supports multi-user registration and identity verification
- **Face Tracking**: Intelligent face following and gaze functionality

#### üö∂ Robot Control System
- **Marker Point Management**: Dynamic addition, deletion, and navigation to specified markers
- **Path Planning**: Intelligent patrol route planning and execution
- **Motion Control**: Precise position control and navigation

#### üíæ Data Management System
- **User Profiles**: Personalized user information storage and management
- **Memory System**: Semantic memory storage and retrieval
- **Configuration Management**: Dynamic system configuration updates

### üîß Configuration

#### Main Configuration Files

- `config/voices.json`: Voice configuration and default tone settings
- `config/patrol_routes.json`: Patrol route configuration
- `demos/data/profiles/`: User profile storage directory

#### API Key Configuration

Configure the following API keys in `demos/app_client.py`:

```python
SPARK_APP_ID = 'your_spark_app_id'
SPARK_API_SECRET = 'your_spark_api_secret'
SPARK_API_KEY = 'your_spark_api_key'
DEEPSEEK_API_KEY = 'your_deepseek_api_key'
```

### üí° Usage Examples

#### Basic Voice Dialogue
```python
# After starting the client, the system automatically polls cloud tasks
# Supported task types:

# 1. Speech recognition to dialogue
task = {
    "task": "speech_to_text",
    "params": {"audioUrl": "https://example.com/audio.pcm"}
}

# 2. Text dialogue
task = {
    "task": "dialogue", 
    "params": {"text": "Hello, how's the weather today?"}
}

# 3. Robot navigation
task = {
    "task": "move_to_point",
    "params": {"marker_name": "living_room"}
}
```

#### User Profile Management
```python
# Get user profiles
task = {
    "task": "get_profiles_config"
}

# Update user profile
task = {
    "task": "update_profile",
    "params": {
        "profile_id": "user123",
        "profile_data": {
            "name": "John Doe",
            "preferences": ["music", "reading"],
            "personality": "friendly"
        }
    }
}
```

### üîÑ Task Scheduling Mechanism

The system adopts a cloud polling-based task scheduling mechanism:

1. **Task Submission**: Submit tasks to queue through UniCloud functions
2. **Task Polling**: Client periodically polls cloud for pending tasks
3. **Task Execution**: Call corresponding processing modules based on task type
4. **Status Update**: Real-time feedback of execution results to cloud
5. **Error Handling**: Comprehensive error handling and retry mechanisms

### üß™ Testing and Debugging

#### Run Tests
```bash
# System connection test
python start_system.py test

# Voice recording test
python test_recording.py

# Dialogue system test
python test_optimization.py
```

#### Debug Mode
```bash
# Enable verbose logging
export DEBUG=1
python app_client.py
```

### üì¶ Project Structure

```
xuanwu_control/
‚îú‚îÄ‚îÄ demos/                      # Demos and main applications
‚îÇ   ‚îú‚îÄ‚îÄ app_client.py           # Main client program
‚îÇ   ‚îú‚îÄ‚îÄ start_system.py         # System startup script
‚îÇ   ‚îú‚îÄ‚îÄ data/                   # Data storage
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ profiles/           # User profiles
‚îÇ   ‚îî‚îÄ‚îÄ run_temp/               # Temporary files
‚îú‚îÄ‚îÄ src/                        # Source code modules
‚îÇ   ‚îú‚îÄ‚îÄ super_intelligent_agent.py  # Super intelligent agent
‚îÇ   ‚îú‚îÄ‚îÄ face_recognition_*.py   # Face recognition modules
‚îÇ   ‚îú‚îÄ‚îÄ memory_agent.py         # Memory agent
‚îÇ   ‚îú‚îÄ‚îÄ marker_manager.py       # Marker point management
‚îÇ   ‚îú‚îÄ‚îÄ move_controller.py      # Motion control
‚îÇ   ‚îú‚îÄ‚îÄ audio_recorder.py       # Audio recording
‚îÇ   ‚îú‚îÄ‚îÄ spark_asr.py           # Speech recognition
‚îÇ   ‚îú‚îÄ‚îÄ deepseek_dialog.py     # Dialogue system
‚îÇ   ‚îî‚îÄ‚îÄ voice_cloner.py        # Voice cloning
‚îú‚îÄ‚îÄ config/                     # Configuration files
‚îÇ   ‚îú‚îÄ‚îÄ voices.json            # Voice configuration
‚îÇ   ‚îî‚îÄ‚îÄ patrol_routes.json     # Patrol routes
‚îî‚îÄ‚îÄ README.md                  # Project documentation
```

### ü§ù Contributing

Welcome to submit Issues and Pull Requests to improve the project:

1. Fork the project
2. Create feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. Open Pull Request

### üìÑ License

This project is licensed under the MIT License - see [LICENSE](LICENSE) file for details

### üìû Contact

- Project Maintainer: [Maintainer Name]
- Email: [Contact Email]
- Project Homepage: [Project Link]

### üôè Acknowledgments

Thanks to the following open source projects and services:

- [InsightFace](https://github.com/deepinsight/insightface) - Face Recognition
- [Orbbec SDK](https://github.com/orbbec/pyorbbecsdk) - Depth Camera
- [iFlytek Open Platform](https://www.xfyun.cn/) - Speech Services
- [DeepSeek](https://www.deepseek.com/) - Intelligent Dialogue
- [UniCloud](https://unicloud.dcloud.net.cn/) - Cloud Services

---

## Chinese

### üåü È°πÁõÆÊ¶ÇËø∞

HavenÊòØ‰∏Ä‰∏™ÈõÜÊàêÈù¢ÈÉ®ËØÜÂà´„ÄÅËØ≠Èü≥‰∫§‰∫í„ÄÅÊú∫Ê¢∞ËáÇÊéßÂà∂Âíå‰∫ëÁ´ØÊúçÂä°ÁöÑÊô∫ËÉΩÂä©ÊâãÁ≥ªÁªü„ÄÇÁ≥ªÁªüÈááÁî®Ê®°ÂùóÂåñËÆæËÆ°ÔºåÊîØÊåÅËØ≠Èü≥Âî§ÈÜí„ÄÅ‰∫∫ËÑ∏ËØÜÂà´„ÄÅÊô∫ËÉΩÂØπËØù„ÄÅÊú∫Âô®‰∫∫ÊéßÂà∂Á≠âÂ§öÁßçÂäüËÉΩ„ÄÇ

HavenÊô∫ËÉΩÂä©ÊâãÁ≥ªÁªüÊòØ‰∏Ä‰∏™ÁªºÂêàÊÄßAIÊô∫ËÉΩ‰ΩìÂπ≥Âè∞ÔºåÈõÜÊàê‰∫ÜËØ≠Èü≥ËØÜÂà´„ÄÅËá™ÁÑ∂ËØ≠Ë®ÄÂØπËØù„ÄÅÊú∫Âô®‰∫∫ÊéßÂà∂„ÄÅ‰∫∫ËÑ∏ËØÜÂà´„ÄÅ‰∏™ÊÄßÂåñ‰∫§‰∫íÁ≠âÂäüËÉΩ„ÄÇÁ≥ªÁªüÈááÁî®Ê®°ÂùóÂåñËÆæËÆ°ÔºåÊîØÊåÅÂàÜÂ∏ÉÂºèÈÉ®ÁΩ≤ÔºåÂÖ∑Â§áÂº∫Â§ßÁöÑ‰ªªÂä°Ë∞ÉÂ∫¶ÂíåÊâßË°åËÉΩÂäõ„ÄÇ

#### üéØ Ê†∏ÂøÉÁâπÊÄß

- **ËØ≠Èü≥Âî§ÈÜí**: ÁõëÂê¨‚ÄúÂ∞èÂä©Â∞èÂä©‚ÄùÂÖ≥ÈîÆËØçÊøÄÊ¥ª
- **‰∫∫ËÑ∏ËØÜÂà´**: Áî®Êà∑Ë∫´‰ªΩËØÜÂà´Âíå‰∏™ÊÄßÂåñÈóÆÂÄô
- **Êô∫ËÉΩÂØπËØù**: Âü∫‰∫éDeepSeek APIÁöÑAIÂØπËØùÁ≥ªÁªü
- **Êú∫Âô®‰∫∫ÊéßÂà∂**: Êú∫Ê¢∞ËáÇÁÇπ‰ΩçÁÆ°ÁêÜ„ÄÅÁßªÂä®ÊéßÂà∂ÂíåÂ∑°ÈÄªÂäüËÉΩ
- **‰∫ëÁ´ØÈõÜÊàê**: UniCloud‰∫ëÂáΩÊï∞„ÄÅ‰ªªÂä°ÈòüÂàóÁÆ°ÁêÜ„ÄÅÈü≥È¢ëÊñá‰ª∂Â≠òÂÇ®
- **‰∏™ÊÄßÂåñËØ≠Èü≥**: ËØ≠Èü≥ÂÖãÈöÜÂíåËá™ÂÆö‰πâËØ≠Èü≥ÁîüÊàê

### üèóÔ∏è Á≥ªÁªüÊû∂ÊûÑ

#### Ê†∏ÂøÉÁªÑ‰ª∂
- **Èù¢ÈÉ®ËØÜÂà´ÊúçÂä°**: ËøêË°åÂú®faceÁéØÂ¢ÉÔºåÂü∫‰∫éInsightFaceÊèê‰æõHTTP API
- **Ë∂ÖÁ∫ßÊô∫ËÉΩ‰Ωì**: ËøêË°åÂú®baseÁéØÂ¢ÉÔºåÊîØÊåÅËØ≠Èü≥Âî§ÈÜíÂíåÊô∫ËÉΩÂØπËØù
- **‰∫ëÁ´ØÂÆ¢Êà∑Á´Ø**: Â§ÑÁêÜÂêÑÁßç‰ªªÂä°ËØ∑Ê±ÇÔºåÊîØÊåÅÊú∫Âô®‰∫∫ÊéßÂà∂ÂíåÂ∑°ÈÄªÂäüËÉΩ
- **ÂâçÁ´ØÂ∫îÁî®**: ‰Ωç‰∫éappÂàÜÊîØÔºåÊèê‰æõÁî®Êà∑ÁïåÈù¢ÂíåÊéßÂà∂Èù¢Êùø

#### Â∑•‰ΩúÊµÅÁ®ã
1. **ËØ≠Èü≥Âî§ÈÜí**: ÁõëÂê¨‚ÄúÂ∞èÂä©Â∞èÂä©‚ÄùÂÖ≥ÈîÆËØç
2. **Èù¢ÈÉ®ËØÜÂà´**: ËØÜÂà´Áî®Êà∑Ë∫´‰ªΩÔºå‰∏™ÊÄßÂåñÈóÆÂÄô
3. **Êô∫ËÉΩÂØπËØù**: Âü∫‰∫éDeepSeek APIÁöÑAIÂØπËØùÁ≥ªÁªü
4. **Êú∫Âô®‰∫∫ÊéßÂà∂**: ÊîØÊåÅËà™ÁÇπÁÆ°ÁêÜ„ÄÅÁßªÂä®ÊéßÂà∂ÂíåÂ∑°ÈÄªÂäüËÉΩ

### üöÄ Âø´ÈÄüÂºÄÂßã

#### ÁéØÂ¢ÉË¶ÅÊ±Ç
- Python 3.8+
- Miniconda/Anaconda
- Á°¨‰ª∂: OrbbecÁõ∏Êú∫„ÄÅÊú∫Ê¢∞ËáÇ

#### ÂÆâË£ÖÊ≠•È™§

1. **ÂÖãÈöÜÈ°πÁõÆ**
```bash
git clone https://github.com/skywalkerist/haven_assistant.git
cd haven_ws
```

2. **ÁéØÂ¢ÉÈÖçÁΩÆ**
```bash
# ÂàõÂª∫faceÁéØÂ¢É (‰∫∫ËÑ∏ËØÜÂà´)
conda create -n face python=3.8
conda activate face
pip install insightface pyorbbecsdk opencv-python

# ÂàõÂª∫baseÁéØÂ¢É (‰∏ªÁ≥ªÁªü)
conda create -n base python=3.8
conda activate base
pip install requests flask openai psutil
```

3. **ÈÖçÁΩÆÊñá‰ª∂**
Á°Æ‰øù‰ª•‰∏ãÈÖçÁΩÆÊñá‰ª∂Â≠òÂú®:
- `config/face_db.json` - Èù¢ÈÉ®Êï∞ÊçÆÂ∫ì
- `config/voices.json` - ËØ≠Èü≥ÈÖçÁΩÆ
- `config/patrol_routes.json` - Â∑°ÈÄªË∑ØÁ∫ø
- `demos/data/profiles/` - Áî®Êà∑Ê°£Ê°àÁõÆÂΩï

4. **ÂêØÂä®Á≥ªÁªü**
```bash
# ÊñπÂºè1: ÂÆåÊï¥Á≥ªÁªüÂêØÂä®
cd demos
python start_system.py

# ÊñπÂºè2: ‰ªÖ‰∫ëÁ´ØÂÆ¢Êà∑Á´Ø
python app_client.py

# ÊñπÂºè3: ÊµãËØïÁ≥ªÁªüËøûÊé•
python start_system.py test
```

### üìã ‰∏ªË¶ÅÂäüËÉΩÊ®°Âùó

#### üé§ ËØ≠Èü≥Â§ÑÁêÜÁ≥ªÁªü
- **ËØ≠Èü≥ËØÜÂà´**: Âü∫‰∫éËÆØÈ£ûSpark ASRÔºåÊîØÊåÅ‰∏≠ÊñáËØ≠Èü≥ËΩ¨ÊñáÂ≠ó
- **ËØ≠Èü≥ÂêàÊàê**: ÊîØÊåÅ‰∏™ÊÄßÂåñËØ≠Èü≥ÂÖãÈöÜÂíåÁîüÊàê
- **Èü≥È¢ëÂΩïÂà∂**: È´òË¥®ÈáèÈü≥È¢ëÈááÈõÜÂíåÂ§ÑÁêÜ

#### ü§ñ Êô∫ËÉΩÂØπËØùÁ≥ªÁªü
- **DeepSeekÂØπËØùÂºïÊìé**: Âü∫‰∫éÂ§ßËØ≠Ë®ÄÊ®°ÂûãÁöÑÊô∫ËÉΩÂØπËØù
- **‰∏ä‰∏ãÊñáÁêÜËß£**: Áª¥Êä§ÂØπËØùÂéÜÂè≤ÂíåÁî®Êà∑ÁîªÂÉè
- **‰∏™ÊÄßÂåñÂìçÂ∫î**: Ê†πÊçÆÁî®Êà∑ÁâπÂæÅÂÆöÂà∂ÂõûÂ§çÂÜÖÂÆπ

#### üëÅÔ∏è ‰∫∫ËÑ∏ËØÜÂà´Á≥ªÁªü
- **ÂÆûÊó∂‰∫∫ËÑ∏Ê£ÄÊµã**: Âü∫‰∫éInsightFaceÁöÑÈ´òÁ≤æÂ∫¶‰∫∫ËÑ∏ËØÜÂà´
- **Áî®Êà∑Ë∫´‰ªΩÁÆ°ÁêÜ**: ÊîØÊåÅÂ§öÁî®Êà∑Ê≥®ÂÜåÂíåË∫´‰ªΩÈ™åËØÅ
- **‰∫∫ËÑ∏Ë∑üË∏™**: Êô∫ËÉΩ‰∫∫ËÑ∏Ë∑üÈöèÂíåÊ≥®ËßÜÂäüËÉΩ

#### üö∂ Êú∫Âô®‰∫∫ÊéßÂà∂Á≥ªÁªü
- **Ê†áËÆ∞ÁÇπÁÆ°ÁêÜ**: Âä®ÊÄÅÊ∑ªÂä†„ÄÅÂà†Èô§„ÄÅÂØºËà™Âà∞ÊåáÂÆöÊ†áËÆ∞ÁÇπ
- **Ë∑ØÂæÑËßÑÂàí**: Êô∫ËÉΩÂ∑°ÈÄªË∑ØÁ∫øËßÑÂàíÂíåÊâßË°å
- **ÁßªÂä®ÊéßÂà∂**: Á≤æÁ°ÆÁöÑ‰ΩçÁΩÆÊéßÂà∂ÂíåÂØºËà™

#### üíæ Êï∞ÊçÆÁÆ°ÁêÜÁ≥ªÁªü
- **Áî®Êà∑Ê°£Ê°à**: ‰∏™ÊÄßÂåñÁî®Êà∑‰ø°ÊÅØÂ≠òÂÇ®ÂíåÁÆ°ÁêÜ
- **ËÆ∞ÂøÜÁ≥ªÁªü**: ËØ≠‰πâËÆ∞ÂøÜÂ≠òÂÇ®ÂíåÊ£ÄÁ¥¢
- **ÈÖçÁΩÆÁÆ°ÁêÜ**: Á≥ªÁªüÈÖçÁΩÆÂä®ÊÄÅÊõ¥Êñ∞

### üîß ÈÖçÁΩÆËØ¥Êòé

#### ‰∏ªË¶ÅÈÖçÁΩÆÊñá‰ª∂

- `config/voices.json`: ËØ≠Èü≥ÈÖçÁΩÆÂíåÈªòËÆ§Èü≥Ëâ≤ËÆæÁΩÆ
- `config/patrol_routes.json`: Â∑°ÈÄªË∑ØÁ∫øÈÖçÁΩÆ
- `demos/data/profiles/`: Áî®Êà∑Ê°£Ê°àÂ≠òÂÇ®ÁõÆÂΩï

#### APIÂØÜÈí•ÈÖçÁΩÆ

Âú® `demos/app_client.py` ‰∏≠ÈÖçÁΩÆ‰ª•‰∏ãAPIÂØÜÈí•:

```python
SPARK_APP_ID = 'your_spark_app_id'
SPARK_API_SECRET = 'your_spark_api_secret'
SPARK_API_KEY = 'your_spark_api_key'
DEEPSEEK_API_KEY = 'your_deepseek_api_key'
```

### üìù ÊîØÊåÅÁöÑ‰ªªÂä°Á±ªÂûã

#### ËØ≠Èü≥ÂíåÂØπËØù
- `speech_to_text` - ËØ≠Èü≥ËΩ¨ÊñáÂ≠ó
- `dialogue` - AIÊô∫ËÉΩÂØπËØù
- `record_audio` - ÂΩïÈü≥ÂäüËÉΩ
- `train_voice` - ËØ≠Èü≥Ê®°ÂûãËÆ≠ÁªÉ

#### Êú∫Âô®‰∫∫ÊéßÂà∂
- `get_marker_list` - Ëé∑ÂèñÁÇπ‰ΩçÂàóË°®
- `add_marker` - Ê∑ªÂä†Êñ∞ÁÇπ‰Ωç
- `delete_marker` - Âà†Èô§ÁÇπ‰Ωç
- `move_to_point` - ÁßªÂä®Âà∞ÊåáÂÆöÁÇπ‰Ωç

#### Â∑°ÈÄªÂäüËÉΩ
- `get_patrol_routes` - Ëé∑ÂèñÂ∑°ÈÄªË∑ØÁ∫ø
- `save_patrol_route` - ‰øùÂ≠òÂ∑°ÈÄªË∑ØÁ∫ø
- `start_patrol` - ÂºÄÂßãÂ∑°ÈÄª
- `stop_patrol` - ÂÅúÊ≠¢Â∑°ÈÄª

#### ÈÖçÁΩÆÁÆ°ÁêÜ
- `get_voices_config` - Ëé∑ÂèñËØ≠Èü≥ÈÖçÁΩÆ
- `set_voices_config` - ËÆæÁΩÆËØ≠Èü≥ÈÖçÁΩÆ
- `get_profiles_config` - Ëé∑ÂèñÁî®Êà∑Ê°£Ê°à
- `update_profile` - Êõ¥Êñ∞Áî®Êà∑Ê°£Ê°à

### üì± ÂâçÁ´ØÂ∫îÁî®

ÂâçÁ´ØÂ∫îÁî®‰Ωç‰∫é`app`ÂàÜÊîØÔºåÊèê‰æõÔºö
- Áî®Êà∑ÂèãÂ•ΩÁöÑÊéßÂà∂ÁïåÈù¢
- ÂÆûÊó∂Áä∂ÊÄÅÁõëÊéß
- ÈÖçÁΩÆÁÆ°ÁêÜÈù¢Êùø
- ‰ªªÂä°ÊâßË°åÊéßÂà∂

ÂàáÊç¢Âà∞appÂàÜÊîØÊü•ÁúãÂâçÁ´Ø‰ª£Á†ÅÔºö
```bash
git checkout app
```

### üîÑ ÂèØÁî®ÂëΩ‰ª§
- `python start_system.py` - ÂêØÂä®ÂÆåÊï¥Á≥ªÁªü
- `python start_system.py test` - ÊµãËØïÁ≥ªÁªüËøûÊé•
- `python start_system.py help` - ÊòæÁ§∫Â∏ÆÂä©‰ø°ÊÅØ
- `python start_system.py shutdown` - ÂÆâÂÖ®ÂÖ≥Èó≠Á≥ªÁªü

### üìã Á≥ªÁªüÁõëÊéß

#### ÊúçÂä°Áä∂ÊÄÅÊ£ÄÊü•
```bash
# Ê£ÄÊü•Èù¢ÈÉ®ËØÜÂà´ÊúçÂä°
curl http://localhost:5001/api/status

# Ê£ÄÊü•Á≥ªÁªüËøûÊé•
python start_system.py test
```

#### ÂÆâÂÖ®ÂÖ≥Èó≠
‰ΩøÁî®`Ctrl+C`ÊàñËøêË°åÂÖ≥Èó≠ÂëΩ‰ª§ÂÆâÂÖ®ÂÖ≥Èó≠Á≥ªÁªüÔºö
```bash
python start_system.py shutdown
```

### üì¶ È°πÁõÆÁªìÊûÑ

```
haven_ws/
‚îú‚îÄ‚îÄ demos/                      # ÊºîÁ§∫Âíå‰∏ªË¶ÅÂ∫îÁî®
‚îÇ   ‚îú‚îÄ‚îÄ app_client.py           # ‰∏ªÂÆ¢Êà∑Á´ØÁ®ãÂ∫è
‚îÇ   ‚îú‚îÄ‚îÄ start_system.py         # Á≥ªÁªüÂêØÂä®ËÑöÊú¨
‚îÇ   ‚îú‚îÄ‚îÄ data/                   # Êï∞ÊçÆÂ≠òÂÇ®
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ profiles/           # Áî®Êà∑Ê°£Ê°à
‚îÇ   ‚îî‚îÄ‚îÄ run_temp/               # ‰∏¥Êó∂Êñá‰ª∂
‚îú‚îÄ‚îÄ src/                        # Ê∫ê‰ª£Á†ÅÊ®°Âùó
‚îÇ   ‚îú‚îÄ‚îÄ super_intelligent_agent.py  # Ë∂ÖÁ∫ßÊô∫ËÉΩ‰Ωì
‚îÇ   ‚îú‚îÄ‚îÄ face_recognition_*.py   # ‰∫∫ËÑ∏ËØÜÂà´Ê®°Âùó
‚îÇ   ‚îú‚îÄ‚îÄ memory_agent.py         # ËÆ∞ÂøÜÊô∫ËÉΩ‰Ωì
‚îÇ   ‚îú‚îÄ‚îÄ marker_manager.py       # Ê†áËÆ∞ÁÇπÁÆ°ÁêÜ
‚îÇ   ‚îú‚îÄ‚îÄ move_controller.py      # ÁßªÂä®ÊéßÂà∂
‚îÇ   ‚îú‚îÄ‚îÄ audio_recorder.py       # Èü≥È¢ëÂΩïÂà∂
‚îÇ   ‚îú‚îÄ‚îÄ spark_asr.py           # ËØ≠Èü≥ËØÜÂà´
‚îÇ   ‚îú‚îÄ‚îÄ deepseek_dialog.py     # ÂØπËØùÁ≥ªÁªü
‚îÇ   ‚îî‚îÄ‚îÄ voice_cloner.py        # ËØ≠Èü≥ÂÖãÈöÜ
‚îú‚îÄ‚îÄ config/                     # ÈÖçÁΩÆÊñá‰ª∂
‚îÇ   ‚îú‚îÄ‚îÄ voices.json            # ËØ≠Èü≥ÈÖçÁΩÆ
‚îÇ   ‚îî‚îÄ‚îÄ patrol_routes.json     # Â∑°ÈÄªË∑ØÁ∫ø
‚îî‚îÄ‚îÄ README.md                  # È°πÁõÆËØ¥Êòé
```

### ü§ù Ë¥°ÁåÆÊåáÂçó

Ê¨¢ËøéÊèê‰∫§IssueÂíåPull RequestÊù•ÊîπËøõÈ°πÁõÆ:

1. Fork È°πÁõÆ
2. ÂàõÂª∫ÁâπÊÄßÂàÜÊîØ (`git checkout -b feature/AmazingFeature`)
3. Êèê‰∫§Êõ¥Êîπ (`git commit -m 'Add some AmazingFeature'`)
4. Êé®ÈÄÅÂà∞ÂàÜÊîØ (`git push origin feature/AmazingFeature`)
5. ÊâìÂºÄ Pull Request

### üìÑ ËÆ∏ÂèØËØÅ

Êú¨È°πÁõÆÈááÁî® MIT ËÆ∏ÂèØËØÅ - Êü•Áúã [LICENSE](LICENSE) Êñá‰ª∂‰∫ÜËß£ËØ¶ÊÉÖ

### üôè Ëá¥Ë∞¢

ÊÑüË∞¢‰ª•‰∏ãÂºÄÊ∫êÈ°πÁõÆÂíåÊúçÂä°:

- [InsightFace](https://github.com/deepinsight/insightface) - ‰∫∫ËÑ∏ËØÜÂà´
- [Orbbec SDK](https://github.com/orbbec/pyorbbecsdk) - Ê∑±Â∫¶Áõ∏Êú∫
- [ËÆØÈ£ûÂºÄÊîæÂπ≥Âè∞](https://www.xfyun.cn/) - ËØ≠Èü≥ÊúçÂä°
- [DeepSeek](https://www.deepseek.com/) - Êô∫ËÉΩÂØπËØù
- [UniCloud](https://unicloud.dcloud.net.cn/) - ‰∫ëÊúçÂä°

---

**ÁâàÊú¨**: 2.0  
**Êõ¥Êñ∞Êó•Êúü**: 2025-07-30  
**ÂºÄÂèëÁéØÂ¢É**: Python 3.8+, Linux/macOS/Windows

---

**Haven - ËÆ©AIÂä©ÊâãÊõ¥Êô∫ËÉΩÔºåËÆ©‰∫§‰∫íÊõ¥Ëá™ÁÑ∂** ü§ñ‚ú®